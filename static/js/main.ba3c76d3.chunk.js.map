{"version":3,"sources":["App.module.css","components/Filter/Filter.module.css","redux/phonebook.js","redux/selectors.js","components/Form/Form.js","redux/actions.js","components/Filter/Filter.js","components/Contacts/Contacts.js","App.js","redux/reducers.js","redux/store.js","index.js","components/Contacts/Contacts.module.css","components/Form/Form.module.css"],"names":["module","exports","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getAllContacts","query","providesTags","deleteContact","mutation","contactId","url","method","invalidatesTags","addContact","contact","body","useGetAllContactsQuery","useAddContactMutation","useDeleteContactMutation","getContacts","select","getFilter","state","filter","Form","useState","name","setName","number","setNumber","contacts","useSelector","data","isLoading","onInputChange","target","value","className","s","form","onSubmit","e","preventDefault","find","el","alert","form__label","form__input","onChange","type","pattern","title","required","form__button","changeFilter","createAction","Filter","filterValue","dispatch","useDispatch","filter__title","filter__input","actions","Contacts","isFetching","filteredContacts","normalizedFilter","toLowerCase","includes","getFilteredContacts","length","contacts__nothingText","contacts__list","map","contacts__item","contacts__text","contacts__btn","onClick","id","App","app","app__title","createReducer","_","payload","store","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba3c76d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3c58a\",\"app__title\":\"App_app__title__1Drqs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__1ydt0\",\"filter__title\":\"Filter_filter__title__2us69\",\"filter__input\":\"Filter_filter__input__1RhVe\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nconst URL = 'https://618eb91150e24d0017ce1407.mockapi.io';\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: 'contacts',\r\n\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: URL,\r\n  }),\r\n  tagTypes: ['contacts'],\r\n  endpoints: builder => ({\r\n    getAllContacts: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: contactId => ({\r\n        url: `/contacts/${contactId}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: contact => ({\r\n        url: `/contacts`,\r\n        method: 'POST',\r\n        body: contact,\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetAllContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n} = contactsApi;\r\n","import { contactsApi } from './phonebook';\n\nexport const getContacts = contactsApi.endpoints.getAllContacts.select();\nexport const getFilter = state => state.filter;\n\nexport const getFilteredContacts = (state, contacts) => {\n  const filter = getFilter(state);\n  const normalizedFilter = filter.toLowerCase();\n\n  return contacts.filter(\n    contact =>\n      contact.name.toLowerCase().includes(normalizedFilter) ||\n      contact.number.includes(normalizedFilter),\n  );\n};\n","import { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport s from './Form.module.css';\nimport { getContacts } from 'redux/selectors';\nimport { useAddContactMutation } from 'redux/phonebook';\n\nexport default function Form() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const { data: contacts } = useSelector(getContacts);\n\n  const [addContact, { isLoading }] = useAddContactMutation();\n\n  const onInputChange = ({ target }) => {\n    const { name, value } = target;\n\n    name === 'name' ? setName(value) : setNumber(value);\n  };\n\n  function onFormSubmit(e) {\n    e.preventDefault();\n\n    const contact = {\n      name: e.target.name.value,\n      number: e.target.number.value,\n    };\n\n    if (contacts.find(el => el.name === contact.name)) {\n      alert(`${contact.name} is already in contacts`);\n    } else {\n      addContact(contact);\n    }\n\n    reset();\n  }\n\n  function reset() {\n    setName('');\n    setNumber('');\n  }\n\n  return (\n    <form className={s.form} onSubmit={onFormSubmit}>\n      <label className={s.form__label}>\n        Name\n        <input\n          className={s.form__input}\n          onChange={onInputChange}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n          value={name}\n        />\n        <label className={s.form__label}>\n          Number\n          <input\n            className={s.form__input}\n            onChange={onInputChange}\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            value={number}\n          />\n        </label>\n      </label>\n      {isLoading ? (\n        <h2>loading</h2>\n      ) : (\n        <button className={s.form__button} type=\"submit\">\n          Add contact\n        </button>\n      )}\n    </form>\n  );\n}\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('phonebook/input_change');\n","import { useDispatch, useSelector } from 'react-redux';\n\nimport s from './Filter.module.css';\nimport * as actions from 'redux/actions';\nimport { getFilter } from 'redux/selectors';\n\nexport default function Filter() {\n  const filterValue = useSelector(getFilter);\n  const dispatch = useDispatch();\n\n  const setFilter = e => dispatch(actions.changeFilter(e.target.value));\n\n  return (\n    <div className={s.filter}>\n      <p className={s.filter__title}>Find contacts by name</p>\n      <input\n        className={s.filter__input}\n        type=\"text\"\n        name=\"filter\"\n        onChange={setFilter}\n        value={filterValue}\n      />\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\n\nimport s from './Contacts.module.css';\nimport { getFilteredContacts } from 'redux/selectors';\n\nimport {\n  useGetAllContactsQuery,\n  useDeleteContactMutation,\n} from 'redux/phonebook';\n\nexport default function Contacts() {\n  const { data: contacts = [], isFetching } = useGetAllContactsQuery();\n\n  const filteredContacts = useSelector(state =>\n    getFilteredContacts(state, contacts),\n  );\n\n  const [deleteContact] = useDeleteContactMutation();\n\n  return (\n    <>\n      {isFetching ? (\n        <h1>Loading...</h1>\n      ) : (\n        <div className={s.contacts}>\n          {contacts.length === 0 ? (\n            <p className={s.contacts__nothingText}>No contacts added</p>\n          ) : (\n            <ul className={s.contacts__list}>\n              {filteredContacts.length === 0 ? (\n                <p className={s.contacts__nothingText}>Nothing found</p>\n              ) : (\n                filteredContacts.map(contact => (\n                  <li className={s.contacts__item} key={contact.id}>\n                    <p className={s.contacts__text}>\n                      {contact.name}: {contact.number}\n                    </p>\n                    <button\n                      className={s.contacts__btn}\n                      type=\"button\"\n                      onClick={() => deleteContact(contact.id)}\n                    >\n                      Delete\n                    </button>\n                  </li>\n                ))\n              )}\n            </ul>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n","import s from './App.module.css';\nimport Form from './components/Form';\nimport Filter from './components/Filter';\nimport Contacts from './components/Contacts';\n\nfunction App() {\n  return (\n    <div className={s.app}>\n      <h1 className={s.app__title}>Phonebook</h1>\n      <Form />\n      <h2 className={s.app__title}>Contacts</h2>\n      <Filter />\n      <Contacts />\n    </div>\n  );\n}\n\nexport default App;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { changeFilter } from './actions';\n\nexport const filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport { filter } from './reducers';\nimport { contactsApi } from './phonebook';\n\nexport const store = configureStore({\n  reducer: {\n    filter,\n    [contactsApi.reducerPath]: contactsApi.reducer,\n  },\n\n  middleware: getDefaultMiddleware => [\n    ...getDefaultMiddleware(),\n    contactsApi.middleware,\n  ],\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport { store } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"Contacts_contacts__2bqPH\",\"contacts__list\":\"Contacts_contacts__list__1j1KU\",\"contacts__nothingText\":\"Contacts_contacts__nothingText__17dBc\",\"contacts__item\":\"Contacts_contacts__item__2aZar\",\"contacts__text\":\"Contacts_contacts__text__3GkQv\",\"contacts__btn\":\"Contacts_contacts__btn__noIHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2ABSl\",\"form__label\":\"Form_form__label__1a_OQ\",\"form__input\":\"Form_form__input__2_Rfy\",\"form__button\":\"Form_form__button__23TDD\"};"],"sourceRoot":""}